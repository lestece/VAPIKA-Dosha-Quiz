<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Quiz to discover your Ayurvedic Dosha" />
    <meta name="keywords" content="quiz, dosha, ayurveda, prakruti, holistic" />
    <meta name="author" content="Celeste Loi" />

    <link rel="stylesheet" href="assets/css/styles.css" />

    <title>VAPIKA Dosha Quiz</title>
</head>

<body>
    <!-- Header containing logo -->
    <header>
        <a href="index.html">
            <img src="assets/images/vapika-logo.png" alt="vapika logo" id="logo" /></a>
    </header>

    <main>
        <div class="container" id="results-container">
            <h1 id="results-heading">
                <span id="user-name"></span>
                your Dosha is <span id="dosha-result"></span>!
            </h1>
            <p id="results-p">Click on the chart to learn more about your dosha!</p>
            <div id="chart_div"></div>
            <!-- Modal for Vata Dosha -->
            <div id="vata-modal" class="modal" style="color: black;">
                <div class="modal-content">
                    <span class="close close-vata">&times;</span>
                    <img src="assets/images/vata.png" alt="Vata Dosha elements">
                    <h1 style="color: black;">Vata</h1>
                    <p>The Vata dosha is responsible for communication, movement and elimination of all wastes from the
                        body.
                        <br>
                        Vata types find it hard to sit still and have wild imaginations. They may be more fearful ad
                        anxious of everyday things than others and tend to be light sleepers. Vatas suffer under stress
                        and are greatly affected by the moods of those around them. When things get overwhelming for
                        them, they may just drift off into their minds where things are more comfortable for them.
                        <br>
                        This dosha is drawn to the spiritual and seeks out more esoteric experiences than the other two
                        doshas. It can be shy, insecure and awkward in social situations and one of the biggest
                        challenges for Vatas is to come to a place of self-acceptance.
                    </p>
                    <h2>Elements</h2>
                    <p>Earth, Fire and Water are the elements that calm this dosha. It's also recommended to avoid
                        bitter, pungent and astringent tastes that aggravate Vata, having the more balancing sweet, sour
                        and salty tastes instead.</p>
                    <h2>Signs of Imbalance & Triggers</h2>
                    <p>Symptoms usually appear first in the gut or the mind. An imbalanced Vata can complain an upset
                        stomach, constipation, experience anxiety, weight loss, restlessness, fatigue, insomnia,
                        hypertension, inability to concentrate, tremors or a nervous system disorder. Other indicators
                        are dry cracked skin and lips, arthritis and joint pain.</p>
                    <br>
                    Triggers for a Vata imbalance are:
                    <ul>
                        <li>Eating too much cold, icy foods and drinks (especially whatever produces gas in the body)
                        </li>
                        <li>Excess raw food</li>
                        <li>Irregular meals or skipping meals</li>
                        <li>Too much travel</li>
                        <li>Being outside in the cold and wind</li>
                        <li>Lack of sleep and routine</li>
                        <li>Spending too much time in front of the computer and TV</li>
                        <li>Stress</li>
                    </ul>
                    <h2>Balancing Vata</h2>
                    <p>Gentle calming exercise such as yoga, quigung, dance, golf, walking, swimming, listening to
                        calming music, gardening, pottery, cooking, massage, meditation and getting to bed early, ghee
                        added to food and drinks, drinking warm milky drinks with cardamom and cinnamon.</p>
                </div>
            </div>
            <!-- Modal for Pitta Dosha -->
            <div id="pitta-modal" class="modal" style="color: black;">
                <div class="modal-content">
                    <span class="close close-pitta">&times;</span>
                    <img src="assets/images/pitta.png" alt="Pitta Dosha elements">
                    <h1 style="color: black;">Pitta</h1>
                    <p>Pitta individuals are dominated by the element of fire, which is what creates heat in the body
                        and is responsible for metabolising, processing and digesting all of our thoughts and food
                        ingested.
                        <br>
                        With strong and athletic bodies, Pittas individuals are driven, competitive, and like to be in
                        control and at the centre of attention. Their go-to emotion is anger and they will always ensure
                        you understand their point of view by using their sharp tongues. Their life lesson is to learn
                        how to control their ego and fiery mind/nature.
                        <br>
                        Pitta personalities have a strong intellect and a strong digestion, they are perfectionists and
                        are great at creating, planning, organising and executing (as long as they are in charge).
                    </p>
                    <h2>Elements</h2>
                    <p>Being the dosha dominated by Fire and Water, adding more Fire to it would only bring troubles!
                        This is why the elements that calm Pitta are Air, Water and Earth. Tastes that will help calming
                        your fire are sweet, bitter and astringent (you should really be avoiding salty, sour and
                        pungent foods).</p>
                    <h2>Signs of imbalance & triggers</h2>
                    <p>Irritability, agressive behaviour, impatience and anger,
                        skin rashes, heartburn, reflux, peptic ulcers,
                        headaches, eye problems, early greying, hot flushes,
                        waking in the middle of the night and being unable to go back to sleep, excess sweating, acne,
                        blood shot eyes and heavy periods.
                        <br>
                        What might be triggering a Pitta imbalance is:
                    <ul>
                        <li>Excess meat in the diet</li>
                        <li>Too much alcohol</li>
                        <li>Overanalysing or overworking</li>
                        <li>Overexposure to heat and sun</li>
                        <li>Intense conversations, pushing oneself too hard, emotional trauma, holding emotions in</li>
                        <li>Skipping meals or fasting</li>
                    </ul>
                    </p>
                    <h2>Balancing Pitta</h2>
                    <p>Gentle calming exercise, spending time in nature, being by the water, eating when you're hungry
                        rather than when starving, moonlight walks, yoga, non-competitive sports, walking, swimming,
                        gardening, writing, massage with coconut oil, meditation, getting to bed before
                        10pm, staying cool and sipping cool herbal teas.</p>
                </div>
            </div>
            <!-- Modal for Kapha Dosha -->
            <div id="kapha-modal" class="modal" style="color: black;">
                <div class="modal-content">
                    <span class="close close-kapha">&times;</span>
                    <img src="assets/images/Kapha.png" alt="Kapha Dosha elements">
                    <h1 style="color: black;">Kapha</h1>
                    <p>Kaphas are caring, maternal, graceful, sensual types. It is said that without Kaphas there would
                        be no home, no children and no family, as Kapha energy ensures the stability and foundation of
                        the home.
                        <br>
                        They have a slow metabolism and weight issues are a constant issue. Kaphas are slow learners but
                        they never seem to forget; they're the most happy in their own company or being with family.
                        <br>
                        The Kapha dosha is a heavy sleeper, slow walker, talker and thinker and won't be rushed into
                        decisions about anything. It has a stubborn aversion to change and will often get stuck in
                        unhappy relatonships or work situations for long periods of time.
                    </p>
                    <h2>Elements</h2>
                    <p>Elements that calm this dosha are Fire, Air and Space, as opposed to Water and Earth. Bitter,
                        pungent and astringent are the tastes that Kaphas should be looking for in their diet.</p>
                    <h2>Signs of imbalance & triggers</h2>
                    <p>Felling unmotivated,
                        self-isolation and withdrawal from friends,
                        lethargy, laziness, difficulty getting out of bed,
                        overeating or eating for comfort (especially sweet and fatty foods),
                        weight gain, fluid retention, coughs and colds,
                        depression and moodiness.
                        <br>
                        An unbalanced Kapha is triggered by:
                    <ul>
                        <li>Excess dairy in the diet</li>
                        <li>Too much alcohol or sweet drinks </li>
                        <li>Overexposure to cold, dump environments</li>
                        <li>Lack of exercise</li>
                        <li>Sleeping during the day and going to bed with wet hair</li>
                        <li>Sitting around doing nothing for a prolonged amount of time</li>
                    </ul>
                    </p>
                    <h2>Balancing Kapha</h2>
                    <p>Vigorous exercise (especially in the morning between 6am-10am),
                        running, cycling, aerobic activity and competitive sports,
                        learning a new skill,stimulating the mind,
                        changing or varying your daily routine,
                        travelling, seeking out new friendships and meeting new people (whatever gets you out of your comfort zone),
                        have your main meal at lunchtime.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer containing social media buttons -->
    <footer>
        <div class="social-container">
            <a href="https://www.facebook.com/" target="_blank" rel="noopener"
                aria-label="Visit our Facebook page (opens in a new tab)">
                <i class="fab fa-facebook-f"></i></a>
            <a href="https://www.instagram.com/" target="_blank" rel="noopener"
                aria-label="Visit our Instagram page (opens in a new tab)"><i class="fab fa-instagram"></i></a>
            <a href="https://twitter.com/" target="_blank" rel="noopener"
                aria-label="Visit our Twitter page (opens in a new tab)"><i class="fab fa-twitter"></i></a>
            <a href="https://tiktok.com/" target="_blank" rel="noopener"
                aria-label="Visit our Twitter page (opens in a new tab)"><i class="fab fa-tiktok"></i></a>
        </div>
    </footer>

    <!-- fontawesome script for social media icons -->
    <script src="https://kit.fontawesome.com/1705e36da1.js" crossorigin="anonymous"></script>
    <!-- Google charts script -->
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

        // Load the Visualization API and the corechart package.
        google.charts.load('current', { 'packages': ['corechart'] });

        // Set a callback to run when the Google Visualization API is loaded.
        google.charts.setOnLoadCallback(drawChart);

        // Callback that creates and populates a data table,
        // instantiates the pie chart, passes in the data and
        // draws it.
        function drawChart() {

            // Create the data table.
            var data = new google.visualization.DataTable();
            let vataPoints = parseInt(localStorage.getItem('vataPoints'));
            let pittaPoints = parseInt(localStorage.getItem('pittaPoints'));
            let kaphaPoints = parseInt(localStorage.getItem('kaphaPoints'));
            data.addColumn('string', 'Dosha');
            data.addColumn('number', 'Percentage');
            data.addRows([
                ['Vata', vataPoints],
                ['Pitta', pittaPoints],
                ['Kapha', kaphaPoints],
            ]);

            // Set chart options
            var options = {
                width: 400,
                height: 300,
                backgroundColor: '#9f7e74',
                sliceVisibilityTreshold: .0,
                slices: [{ color: '#8accf2' }, { color: '#f7cf97' }, { color: '#c3fabb' }]
            };

            // Instantiate and draw our chart, passing in some options.
            var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
            chart.draw(data, options);

            google.visualization.events.addListener(chart, 'select', function (e) {
                var selection = chart.getSelection();

                if (selection[0].row === 0) {
                    // Get the modal
                    let vataModal = document.getElementById("vata-modal");
                    //Open the modal
                    vataModal.style.display = "block";
                    // Get the <span> element that closes the modal
                    let closeVata = document.getElementsByClassName("close-vata")[0];
                    // When the user clicks on <span> (x), close the modal
                    closeVata.onclick = function () {
                        vataModal.style.display = "none";
                    };
                } else if (selection[0].row === 1) {
                    // Get the modal
                    let pittaModal = document.getElementById("pitta-modal");
                    //Open the modal
                    pittaModal.style.display = "block";
                    // Get the <span> element that closes the modal
                    let closePitta = document.getElementsByClassName("close-pitta")[0];
                    // When the user clicks on <span> (x), close the modal
                    closePitta.onclick = function () {
                        pittaModal.style.display = "none";
                    };
                } else {
                    // Get the modal
                    let kaphaModal = document.getElementById("kapha-modal");
                    //Open the modal
                    kaphaModal.style.display = "block";
                    // Get the <span> element that closes the modal
                    let closeKapha = document.getElementsByClassName("close-kapha")[0];
                    // When the user clicks on <span> (x), close the modal
                    closeKapha.onclick = function () {
                        kaphaModal.style.display = "none";
                    };
                }

            });
        }
    </script>
    <!-- js script -->
    <script src="assets/js/results.js"></script>
</body>

</html>